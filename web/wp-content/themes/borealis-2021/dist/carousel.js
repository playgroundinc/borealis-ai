!function(){"use strict";class i{constructor(e){this.slider=e,this.slides=[],this.activeSlide=null,this.caption=null,this.prev=null,this.next=null,this.count=null,this.percentage=0,this.current=null,this.pageXStart=null,this.pageXEnd=null,this.button=null,this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleDrag=this.handleDrag.bind(this),this.handleNext=this.handleNext.bind(this),this.handlePrev=this.handlePrev.bind(this),this.handleSingleNext=this.handleSingleNext.bind(this),this.handleSinglePrev=this.handleSinglePrev.bind(this),this.singlePrev=this.singlePrev.bind(this),this.singleNext=this.singleNext.bind(this)}setState(e,t){this[e]=t}setAriaLabel(){const i=this.slides.length;this.slides.forEach((e,t)=>{t=Number(t)+1;e.setAttribute("aria-label",t+" of "+i)})}setPrevSlide(){const e=this.slider.querySelector(".slide--prev");e&&e.classList.remove("slide--prev"),(0<Number(this.activeSlide)?this.slides[this.activeSlide-1]:this.slides[this.slides.length-1]).classList.add("slide--prev")}setNextSlide(){const e=this.slider.querySelector(".slide--next");var t;e&&e.classList.remove("slide--next"),Number(this.activeSlide)!==Number(this.slides.length-1)?(t=Number(this.activeSlide+1),this.slides[t].classList.add("slide--next")):this.slides[0].classList.add("slide--next")}setActiveSlide(){2<this.slides.length&&(this.setNextSlide(),this.setPrevSlide()),this.slides[this.activeSlide].classList.add("slide--active")}getButtons(){var e=this.slider.querySelector(".slider-block__next");this.setState("next",e);e=this.slider.querySelector(".slider-block__prev");this.setState("prev",e)}getCounters(){var e=this.slider.querySelector(".slider-block__count__total"),t=this.slider.querySelector(".slider-block__count__current"),i=this.slider.querySelector(".slider-block__count__percentage--active");this.setState("total",e),this.setState("current",t),this.setState("percentage",i)}getCaption(){var e=this.slider.querySelector(".slider-block__caption");this.setState("caption",e)}getElements(){this.getButtons(),this.getCounters(),this.getCaption()}setTotal(){this.total.innerText=this.slides.length<10?"0"+this.slides.length:this.slides.length}setCount(){this.current.innerText=Number(this.activeSlide+1)<10?"0"+Number(this.activeSlide+1):Number(this.activeSlide);var e=(Number(this.activeSlide)+1)/Number(this.slides.length)*100;this.percentage.style.width=e+"%"}setCaption(){this.slides[this.activeSlide].dataset.caption?this.caption.innerText=this.slides[this.activeSlide].dataset.caption:this.caption.innerText=""}setActive(){this.setState("activeSlide",0),this.setActiveSlide(),this.setAriaLabel(),this.caption&&this.setCaption(),this.total&&this.setTotal(),this.current&&this.setCount()}getSlides(){var e=[...this.slider.querySelectorAll(".slide")];this.setState("slides",e)}hideCarousel(){this.slider.classList.add("hide-xs")}conditionalEvents(){this.caption&&this.setCaption(),this.current&&this.setCount()}handleNext(e){e&&e.preventDefault(),this.handleVideo(),this.slides[this.activeSlide].classList.remove("slide--active");e=Number(this.activeSlide)!==Number(this.slides.length-1)?Number(this.activeSlide+1):0;this.setState("activeSlide",e),this.setActiveSlide(),this.conditionalEvents()}handlePrev(e){e&&e.preventDefault(),this.handleVideo(),this.slides[this.activeSlide].classList.remove("slide--active");e=0<Number(this.activeSlide)?Number(this.activeSlide-1):Number(this.slides.length-1);this.setState("activeSlide",e),this.setActiveSlide(),this.conditionalEvents()}singlePrev(){this.slides[this.activeSlide].classList.add("slide--active"),this.slides[this.activeSlide].classList.remove("slide--prev"),this.setCount()}singleNext(){this.slides[this.activeSlide].classList.add("slide--active"),this.slides[this.activeSlide].classList.remove("slide--next"),this.setCount()}setSingleNextSlide(){this.slides[this.activeSlide].classList.contains("slide--prev")&&this.slides[this.activeSlide].classList.remove("slide--prev"),this.slides[this.activeSlide].classList.add("slide--next"),setTimeout(this.singleNext,300),this.conditionalEvents()}setSinglePrevSlide(){this.slides[this.activeSlide].classList.contains("slide--next")&&this.slides[this.activeSlide].classList.remove("slide--next"),this.slides[this.activeSlide].classList.add("slide--prev"),setTimeout(this.singlePrev,300),this.conditionalEvents()}handleVideo(){const e=this.slides[this.activeSlide].querySelector("video");e&&e.pause()}handleSingleNext(e){if(e&&e.preventDefault(),this.handleVideo(),this.slides[this.activeSlide].classList.remove("slide--active"),this.slides[this.activeSlide].classList.add("slide--prev"),0===this.activeSlide)return this.setState("activeSlide",1),void this.setSingleNextSlide();this.setState("activeSlide",0),this.setSingleNextSlide()}handleSinglePrev(e){if(e&&e.preventDefault(),this.handleVideo(),this.slides[this.activeSlide].classList.remove("slide--active"),this.slides[this.activeSlide].classList.add("slide--next"),0===this.activeSlide)return this.setState("activeSlide",1),void this.setSinglePrevSlide();this.setState("activeSlide",0),this.setSinglePrevSlide()}addListeners(){return this.slides.forEach(e=>{e.addEventListener("mousedown",this.handleDrag),e.addEventListener("touchstart",this.handleDrag)}),2<this.slides.length?(this.next.addEventListener("click",this.handleNext),void this.prev.addEventListener("click",this.handlePrev)):1<this.slides.length?(this.next.addEventListener("click",this.handleSingleNext),void this.prev.addEventListener("click",this.handleSinglePrev)):(this.prev.setAttribute("disabled",!0),void this.next.setAttribute("disabled",!0))}handleMouseMove(e){e=e.touches&&e.touches[0].clientX?e.touches[0].clientX:e.pageX;e&&this.setState("pageXEnd",e)}triggerClick(){this.button&&this.button.click()}calculateDrag(){var e=this.pageXEnd-this.pageXStart;return 50<e?2<this.slides.length?void this.handlePrev():void(1<this.slides.length&&this.handleSinglePrev()):e<=-50?2<this.slides.length?void this.handleNext():void(1<this.slides.length&&this.handleSingleNext()):(this.getButton(),void this.triggerClick())}getButton(){var e=this.slides[this.activeSlide].querySelector("button, a");this.setState("button",e)}handleMouseUp(e){e.preventDefault(),this.pageXStart&&this.pageXEnd?this.calculateDrag():(this.getButton(),this.triggerClick()),this.setState("pageXStart",null),this.setState("pageXEnd",null),this.slider.removeEventListener("mousemove",this.handleMouseMove),this.slider.removeEventListener("mouseup",this.handleMouseUp),this.slider.removeEventListener("touchmove",this.handleMouseMove),this.slider.removeEventListener("touchend",this.handleMouseUp)}handleDrag(e){this.slider.classList.contains("slider--links")||(e.preventDefault(),e=e.touches&&e.touches[0].clientX?e.touches[0].clientX:e.pageX,this.setState("pageXStart",e),this.slider.addEventListener("touchmove",this.handleMouseMove),this.slider.addEventListener("touchend",this.handleMouseUp),this.slider.addEventListener("mousemove",this.handleMouseMove),this.slider.addEventListener("mouseup",this.handleMouseUp))}init(){if(this.getSlides(),this.slides.length)return this.getElements(),this.setActive(),void this.addListeners();this.hideCarousel()}}const e=[...document.querySelectorAll(".slider")];e.length&&e.forEach(e=>{const t=new i(e);t.init()})}();